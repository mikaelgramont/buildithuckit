<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="bihi-save">
  <style>
    label {
      display: block;
      margin: 10px 0;
    }
    input,
    textarea {
      width: 100%;
    }
    textarea {
      height: 4.5em;
    }
    .button-container {
      margin: 10px 0;
      text-align: right;
    }
  </style>

  <template>
    <div class="container size-2">
      <label for="title">Title</label>
      <input id="title" value="{{title}}">
      <label for="description">Description</label>
      <textarea id="description">{{description}}</textarea>
       <div class="button-container">
        <button id="saveButton" on-click="onSaveButtonClick">Save</button>
      </div>
    </div>
  </template>

</dom-module>

<script>
  Polymer({
    is: "bihi-save",
    listeners: {
      "on-save": "onSave"
    },
    onSave: function(e) {
      this.$.saveButton.disabled = true;
      this.$.description.disabled = true;
      this.$.title.disabled = true;
    },
    onSaveButtonClick: function(e) {
      var options = {
        description: "some description",
        title: "some title"
      };
      // TODO: load up all relevant information into the options object
      var event = new CustomEvent('renderer-event', {
        detail: {
          type: 'save',
          options: options
        }
      });
      document.body.dispatchEvent(event);            
    },
     properties: {
      id: {
        type: Number,
        reflectToAttribute: true
      }
    }
 
  });
</script>