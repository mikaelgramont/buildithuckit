<!-- 
	Polymer 0.8 WTFs:
	- when outputting properties to html, can't put anything else next to a variable inside a given container

	Questions:
	- how to make a custom element inherit from a builtin element (fieldset)?
	- is firing and catching events through the dom the way to go to communicate? Seems to work for elements that are related to each other. Should we use some kind of pubsub sitting at the top of the page for elements that are not in the same branch of the tree?

	TODO:
	Init:
	- stop passing viz around, and pass data instead. Call it editorData?
	- rename KickerData to KickerIOAbstract
	- give it some unimplemented methods like parse and reflect
	- implement a concrete version of KickerIOAbstract named KickerIOFromDOM that does the same as the current situation
	- next implementation can do what it needs to render to PDF and take in a JSON object.
	
	Measurements:
	- function to draw a straight two-ended arrow. Params: start point, stop point.
	- function to draw a curved two-ended arrow. Params: center, radius, angle.
	- function to draw an angle. Params: position, angle, CCW rotation from 0.
	- send a pull request to allow https://github.com/mrdoob/three.js/blob/master/src/extras/helpers/EdgesHelper.js to take in a material object instead of hex => thicker lines.

	- send another pull request to do (!!visible) instead of (visible === true)

	- add character.
	- create a better background image for the top section. Possibly add a blueprint in the bottom right corner, so that the action button can be made white against blue.
	- Saving to the backend (height, width, angle, name, snapshot, pdf).
	- Sharing: facebook, twitter, g+. Annotations to embed everything in the target sharing network.

	Nice to have's
	- board in 2d (second model part of the export), board with no textures in 3d (traverse children and add edgehelpers, or consolidate all children into one geometry).
	- add angle, radius with arrows and angle representation to 2d view.
	- add presets for 2d cam positions

	Optimizations:
	- cache text objects as they are super slow to generate
	- use factories for all object creation, in order to recycle them (replace the geometry, position, scale and rotation).
		
-->
<html>
	<head>
		<title>Build it. Huck it.</title>
		<link rel="stylesheet" href="style.css">
		<script src="bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
		<link rel="import" href="elements/bihi-accordion.html">
		<link rel="import" href="elements/bihi-context.html">
		<link rel="import" href="elements/bihi-editor.html">
		<link rel="import" href="elements/bihi-design-fieldset.html">
		<link rel="import" href="elements/bihi-design-parameter.html">   
		<link rel="import" href="elements/bihi-design-result.html">
		<link rel="import" href="elements/bihi-design-step.html">
		<link rel="import" href="elements/bihi-logo.html">
		<link rel="import" href="elements/bihi-params.html">
		<link rel="import" href="elements/bihi-representation.html">
		<link rel="import" href="elements/bihi-renderer3d.html">
		<link rel="import" href="elements/bihi-results.html">
	</head>

	<body>
		<div class="content">
			<header>
				<bihi-logo></bihi-logo>
			</header>

			<div class="top-section-container">
				<section class="top-section">
					<h2 class="top-section-header">
						Design your next ramp.
						No math involved.
					</h2>
					<div class="top-section-body">
						<div class="top-section-content grid-element size-2">
							<p>Thinking of building a new kicker but lacking the math skills to design it precisely? We got you covered.</p>
							<p>The nerds here have done the math for you, so you can focus on the fun part: deciding how big you want to go!</p>
							<button id="start-button" class="action">Get Started</button>
						</div>
						<div class="top-section-content grid-element">
							<div class="video-aspect-ratio-wrapper">
								<iframe src="https://www.youtube.com/embed/rE5O35mUvBg" frameborder="0" allowfullscreen></iframe>
							</div>
						</div>
					</div>
				</section>
			</div>

			<div class="main" role="main">
				<bihi-editor class="editor">
					<bihi-accordion class="renderer-accordion blueprint" role="tablist">
						<bihi-design-step caption="Design" step="1" active first>
							<bihi-design-fieldset legend="Parameters">
								<bihi-params></bihi-params>
							</bihi-design-fieldset>
							<bihi-design-fieldset legend="Results">
								<bihi-results></bihi-results>
							</bihi-design-fieldset>
						</bihi-design-step>

						<bihi-design-step caption="Visualize" step="2">
							<bihi-design-fieldset legend="Representation">
								<bihi-representation rep-type="3d"></bihi-representation>
							</bihi-design-fieldset>
							<bihi-design-fieldset legend="Context">
								<bihi-context rider></bihi-context>
							</bihi-design-fieldset>
						</bihi-design-step>

						<bihi-design-step caption="Save" step="3"></bihi-design-step>

						<bihi-design-step caption="Share" step="4" last></bihi-design-step>
					</bihi-accordion>
					<bihi-renderer3d id="renderer" class="blueprint"></bihi-renderer3d>
				</bihi-editor>
			</div>
			<footer>
				<ul>
					<li>Twitter</li>
					<li>Facebook</li>
					<li>Contact</li>
				</ul>
			</footer>
		</div>
		<script>
			(function() {
				var editor = document.querySelector('.editor'),
					start = document.getElementById('start-button'),
					renderer = document.getElementById('renderer');
				start.addEventListener('click', function(e) {
					e.target.disabled = true;
					document.body.classList.add('expanded-editor');
					editor.scrollIntoView();
					var event = new Event('renderer-init');
					renderer.dispatchEvent(event);
				});
				// Temporary for dev purposes.
				setTimeout(function(){
					start.dispatchEvent(new Event('click'));
				}, 50);
			})();

		</script>
	</body>
</html>