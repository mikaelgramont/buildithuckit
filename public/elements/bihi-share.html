<link rel="import" href="../components/polymer/polymer.html">

<dom-module id="bihi-share">
  <style>
    .container {
      margin: 10px 0;
    }
  </style>
  <template>
    <div class="container">
      <button on-click="onTwitterClick">{{twitterLabel}}</button>
      <button on-click="onFacebookClick">{{facebookLabel}}</button>
    </div>
  </template>

</dom-module>

<script>
  Polymer({
    is: "bihi-share",
    ready: function() {
    },
    onTwitterClick: function(e) {
      if (!this.shareWindow || this.shareWindow.closed) {
        this.shareWindow = window.open(this.twitterUrl);
      } else {
        this.shareWindow.focus();
      }
    },
    onFacebookClick: function(e) {
      if (!this.shareWindow || this.shareWindow.closed) {
        this.shareWindow = window.open(this.facebookUrl);
      } else {
        this.shareWindow.focus();
      }
    },
    update: function(saveDetail) {
      if (saveDetail.share) {
        this.twitterUrl = saveDetail.share.twitterUrl;
        this.facebookUrl = saveDetail.share.facebookUrl;
      }
    },
    properties: {
      twitterLabel: {
        type: String
      },
      facebookLabel: {
        type: String
      },
      twitterUrl: {
        type: String
      },
      facebookUrl: {
        type: String
      },
      shareWindow: {
        type: Object
      }

    }    
  });

</script>